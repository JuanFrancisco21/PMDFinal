<ion-header>
  <ion-toolbar color="primary">
    <ion-icon class="ion-icon" name="arrow-back-outline" slot="start" (click)="goBack()"></ion-icon>
    <ion-title class="ion-text-center">{{this.work.name}}</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>

  



  <ion-refresher slot="fixed" (ionRefresh)="cargaWorkers($event)">
    <ion-refresher-content></ion-refresher-content>
  </ion-refresher>
  <ion-list >
    <ion-item *ngFor="let ww of this.wwlist;" (click)="showLogs(ww)">
      <ion-avatar class="avatar" item-start>
        <img src="{{ww.worker.picture}}">
      </ion-avatar>
      <ion-label >{{ww.worker.name}}   {{ww.worker.surname}}</ion-label>
      <ion-item><ion-checkbox [(ngModel)]="ww.dailylogcheck" checked="false"></ion-checkbox></ion-item>
      <ion-button class="settings" (click)="clickSettings(ww)"><ion-icon name="settings-outline"></ion-icon></ion-button>
    </ion-item>
  </ion-list>

  

  

<div *ngIf="addingLog">
  <ion-item>
    <ion-label class="create">Nuevo dailylog</ion-label>
  </ion-item>
    <div class="container">
      <div class="ion-align-items-center datepick" >
        <ion-button id="open-modal" (click)="resetDate()" ><ion-icon name="today"></ion-icon></ion-button>
      </div>
    </div>
  <ion-modal trigger="open-modal">
    <ng-template>
      <ion-content>
        <ion-item>
          <ion-item>
            <ion-datetime [(ngModel)]="date" (ionChange)="formatDate(date)">
                
            </ion-datetime>
        </ion-item>
        </ion-item>
      </ion-content>
    </ng-template>
  </ion-modal>
  <ion-input placeholder="Fecha seleccionada: {{this.date}}" disabled="true"></ion-input>
  <ion-input placeholder="Seleccione la cantidad de horas (8 por defecto)" type="number" [(ngModel)]="hours"><ion-icon name="time"></ion-icon></ion-input>
  <ion-button size="large" expand="block" (click)="createDailylog()"><ion-icon name="save"></ion-icon></ion-button>
  

</div>

<div *ngIf="addingWorker">
  <ion-item>
    <ion-label>Seleccionar trabajador</ion-label>
  
    <ion-select [(ngModel)]="worker" (ionChange)="getValue(worker)">  
      <ion-select-option *ngFor="let worker of workers" [value]="worker">{{worker.name + ' ' + worker.surname}}</ion-select-option>
    </ion-select>

  </ion-item>
  <ion-button size="large" expand="block" (click)="addWorker()">AÃ±adir Trabajador</ion-button>
</div>

<ion-fab vertical="bottom" horizontal="end" slot="fixed">
  <ion-fab-button (click)="onClickAddLog()">
    <ion-icon name="time-outline"></ion-icon>
  </ion-fab-button>

  <ion-fab-button (click)="onClickAddWorker()">
    <ion-icon name="person-add"></ion-icon>
  </ion-fab-button>
</ion-fab>
</ion-content>
